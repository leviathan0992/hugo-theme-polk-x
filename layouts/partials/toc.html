{{- /*
Hexo theme uses: toc(page.content, {list_number: false})
We want the same DOM classes used by the existing CSS:
- top list: .toc
- nested list: .toc-child

Hugo provides .TableOfContents as:
<nav id="TableOfContents"><ul>...</ul></nav>
We rewrite it to:
<ol class="toc">...</ol> (top)
<ol class="toc-child">...</ol> (nested)
*/ -}}

{{- $toc := .TableOfContents -}}
{{- if and $toc (ne $toc "") (not (in $toc "<nav id=\"TableOfContents\"></nav>")) -}}
  {{- $out := $toc -}}
  {{- $out = replaceRE "<nav id=\"TableOfContents\">\\s*<ul>" "<ol class=\"toc\">" $out -}}
  {{- $out = replaceRE "</ul>\\s*</nav>" "</ol>" $out -}}
  {{- $out = replace $out "<ul>" "<ol class=\"toc-child\">" -}}
  {{- $out = replace $out "</ul>" "</ol>" -}}
  {{- $out | safeHTML -}}
{{- end -}}


