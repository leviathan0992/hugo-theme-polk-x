body {
  margin: 0;
}

html {
  scroll-behavior: smooth;
}

html,
body,
.container {
  height: 100%;
  max-height: 100%;
  /* Professional Chinese font stack for technical blogs */
  /* Source Han Sans is ideal for technical content - modern, clean, professional */
  font-family: "Source Han Sans SC", "Noto Sans SC", "PingFang SC",
               "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
  letter-spacing: 0.01rem;
  line-height: 1.85rem;
  color: #1a1a1a;
  background: #fafafa;
}

.container {
  max-width: 1000px;
  margin: 0 auto;
}

a {
  color: #000;
  text-decoration: none;
}

.page {
  margin: 0 20px;
  margin-bottom: 2em;
}

.page p {
  line-height: 1.5em;
}

/* header */
.header {
  margin-bottom: -0.5em;
  padding: 0 20px;
}

.header .blog-title {
  font-size: 2.5em;
  text-align: center;
  padding-top: 0.5em;
}

.header .subtitle {
  font-size: 14px;
  color: gray;
}

.header .menu {
  margin: 0;
  padding: 0;
  border-top: 1px solid #ccc;
  margin-top: 20px;
}

.header .menu .menu-item {
  margin: 0 26px 0 0;
  padding: 6px 0 6px 0;
  float: inherit;
  display: inline-block;
}

.header .menu .menu-item-link {
  color: #999;
}

.header .menu .menu-item-link:hover {
  color: #000;
}

/* post */
.post {
  padding: 0 20px;
  margin-bottom: 1.5em;
}

.post img {
  max-width: 100%;
}

.post table {
  border-collapse: collapse;
  border-spacing: 0;
}

.post table td,
.post table th {
  padding: 6px 13px;
  border: 1px solid #dfe2e5;
}

.post hr {
  margin: 1.5em 0;
}

.post .post-content {
  text-align: left;
  overflow-wrap: anywhere;
  word-break: break-word;
  hyphens: auto;
  line-height: 1.85rem; /* Relative line height for better readability of technical content */
}

/* Heading hierarchy for clear visual structure */
.post .post-content h1 {
  font-size: 2em;
  font-weight: 700;
  margin: 1.2em 0 0.6em 0; /* Optimized spacing: more space above, less below */
  line-height: 1.3;
  color: #24292f;
  /* Add subtle bottom border for visual separation */
  border-bottom: 1px solid #e1e4e8;
  padding-bottom: 0.3em;
}

.post .post-content h2 {
  font-size: 1.5em;
  font-weight: 600;
  margin: 1.1em 0 0.5em 0; /* Balanced spacing for section breaks */
  line-height: 1.4;
  color: #24292f;
}

.post .post-content h3 {
  font-size: 1.25em;
  font-weight: 600;
  margin: 0.9em 0 0.4em 0; /* Tighter spacing for subsections */
  line-height: 1.4;
  color: #24292f;
}

.post .post-content h4 {
  font-size: 1.1em;
  font-weight: 600;
  margin: 0.8em 0 0.35em 0; /* Consistent with h3 but slightly tighter */
  line-height: 1.4;
  color: #24292f;
}

.post .post-content h5,
.post .post-content h6 {
  font-size: 1em;
  font-weight: 600;
  margin: 0.7em 0 0.3em 0; /* Minimal spacing for minor headings */
  line-height: 1.4;
  color: #24292f;
}

/* Prevent excessive spacing around inline code */
.post .post-content code {
  /* Force inline code to not break, preventing justify from adding space */
  word-spacing: normal;
  letter-spacing: normal;
  /* Ensure no extra spacing before/after inline code */
  margin-left: 0 !important;
  margin-right: 0 !important;
  /* Minimize padding to reduce visual spacing, especially around parentheses */
  padding-left: 0 !important;
  padding-right: 0 !important;
  /* Use minimal background padding instead */
  background-clip: padding-box;
}

.post .post-content a {
  border-bottom: 1px solid;
}

.post .post-content a:hover {
  border-bottom: 1px solid;
}

.post .post-content ul,
.post .post-content ol {
  text-align: left;
  margin: 1em 0; /* Consistent spacing around lists */
  padding-left: 1.5em; /* Indent for better visual hierarchy */
}

.post .post-content ul {
  list-style-type: disc; /* Clear disc markers */
}

.post .post-content ol {
  list-style-type: decimal; /* Clear decimal markers */
}

.post .post-content ul li,
.post .post-content ol li {
  padding: 0;
  line-height: 1.75; /* Consistent relative line height */
  margin: 0.4em 0; /* Tighter spacing between list items */
  /* Better spacing for nested lists */
}

.post .post-content ul ul,
.post .post-content ol ol,
.post .post-content ul ol,
.post .post-content ol ul {
  margin-top: 0.3em;
  margin-bottom: 0.3em;
  padding-left: 1.2em; /* Nested list indentation */
}

.post figure {
  margin: 0;
}

.post figure table {
  width: 100%;
}

.post figure table .code {
  border: 0;
  padding: 0;
}

.post figure .gutter {
  display: none;
}

.post blockquote {
  margin: 1.2em 0; /* More breathing room around quotes */
  padding: 0.8em 1.2em; /* Better padding for readability */
  padding-left: 1.5em; /* Extra left padding for border */
  color: #57606a; /* Slightly darker for better readability */
  background-color: #f6f8fa; /* Subtle background for emphasis */
  border-left: 4px solid #0969da; /* Modern blue accent instead of gray */
  border-radius: 0 4px 4px 0; /* Rounded right corners for modern look */
  font-style: normal; /* Keep normal style, color provides emphasis */
  /* Ensure proper spacing for nested content */
}

.post blockquote p {
  margin: 0.5em 0; /* Spacing for paragraphs inside blockquote */
}

.post blockquote p:first-child {
  margin-top: 0; /* Remove top margin for first paragraph */
}

.post blockquote p:last-child {
  margin-bottom: 0; /* Remove bottom margin for last paragraph */
}

.post pre {
  margin: 0;
  padding: 0.5em 1.5em;
  overflow: auto;
  font-size: 110%;
  line-height: 1.5;
  background-color: #f7f7f7;
}

/* Fenced code blocks (Hexo/Hugo highlight wrapper): keep closer to original Hexo visual size.
   Hugo's highlight DOM can make the 110% feel too large; constrain blocks only. */
.post figure.highlight pre,
.post figure.highlight code {
  font-size: 0.95em; /* Slightly smaller font size for code blocks */
}

/* If any inner .highlight wrapper remains, neutralize it inside code blocks */
.post figure.highlight .highlight {
  background: transparent;
  padding: 0;
}

/* Code block readability tweaks (subtle, keep original look) */
.post figure.highlight pre.chroma {
  padding: 0.7em 1.5em; /* keep original horizontal padding, slightly more vertical */
  line-height: 1.55;
  overflow-x: auto;
  /* Border is inherited from .post figure.highlight pre */
  box-shadow: inset 0 0 0 1px rgba(27, 31, 36, 0.025);
}

.post figure.highlight pre.chroma code {
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0, "calt" 0;
  -moz-tab-size: 4;
  tab-size: 4;
  font-size: 0.95em; /* Slightly smaller font size for code blocks */
}

/* Subtle line hover to aid scanning large blocks */
.post figure.highlight .chroma .line {
  display: block;
}

.post figure.highlight .chroma .line:hover {
  background: rgba(175, 184, 193, 0.22);
}

.post code {
  /* Professional monospace font stack for inline code with Chinese support */
  font-family: "JetBrains Mono", "SF Mono", "Monaco", "Menlo", "Consolas",
               "Liberation Mono", "Courier New", monospace !important;
  font-size: 0.9em;
  background: #f6f8fa;
  /* Remove margin to prevent large gaps around parentheses */
  margin: 0;
  /* Reduce padding to minimize spacing around inline code */
  padding: 0 3px;
  /* Prevent justify from adding extra space around inline code */
  display: inline;
  white-space: pre-wrap;
}

/* Code blocks (Hugo/Goldmark renders fenced blocks as <pre><code>...).
   Prevent inline-code styling from breaking block layout. */
.post pre code {
  /* Hexo highlight blocks didn't use <code>, so inline-code styles should NOT apply here. */
  font-family: "JetBrains Mono", "SF Mono", Menlo, Monaco, Consolas,
               "Liberation Mono", "Courier New", monospace !important;
  background: transparent;
  margin: 0;
  padding: 0;
  font-size: inherit;
}

/* GitHub VS Code Theme (GitHub Light Default) inspired syntax highlighting.
   Reference: https://github.com/primer/github-vscode-theme
   Scoped to code blocks only. */
.post figure.highlight {
  background: transparent;
  border-radius: 0;
}

.post figure.highlight pre {
  background: #f6f8fa; /* Slightly lighter, more modern background */
}

.post figure.highlight .chroma {
  /* Darker base color for better contrast against light background */
  color: #24292f;
}

/* comments */
.post figure.highlight .chroma .c,
.post figure.highlight .chroma .ch,
.post figure.highlight .chroma .cm,
.post figure.highlight .chroma .cp,
.post figure.highlight .chroma .cpf,
.post figure.highlight .chroma .c1,
.post figure.highlight .chroma .cs {
  /* More muted than code, but still readable on #f7f7f7 */
  color: #2f6f8f;
  font-style: normal;
}

/* keywords */
.post figure.highlight .chroma .k,
.post figure.highlight .chroma .kc,
.post figure.highlight .chroma .kd,
.post figure.highlight .chroma .kn,
.post figure.highlight .chroma .kp,
.post figure.highlight .chroma .kr,
.post figure.highlight .chroma .kt {
  color: #cf222e;
}

/* strings */
.post figure.highlight .chroma .s,
.post figure.highlight .chroma .sa,
.post figure.highlight .chroma .sb,
.post figure.highlight .chroma .sc,
.post figure.highlight .chroma .dl,
.post figure.highlight .chroma .sd,
.post figure.highlight .chroma .s2,
.post figure.highlight .chroma .se,
.post figure.highlight .chroma .sh,
.post figure.highlight .chroma .si,
.post figure.highlight .chroma .sx,
.post figure.highlight .chroma .sr,
.post figure.highlight .chroma .s1,
.post figure.highlight .chroma .ss {
  color: #0a3069;
}

/* numbers */
.post figure.highlight .chroma .m,
.post figure.highlight .chroma .mb,
.post figure.highlight .chroma .mf,
.post figure.highlight .chroma .mh,
.post figure.highlight .chroma .mi,
.post figure.highlight .chroma .il,
.post figure.highlight .chroma .mo {
  color: #0550ae;
}

/* function / method names (C++/Python/Go), SQL functions, shell builtins */
.post figure.highlight .chroma .nf,
.post figure.highlight .chroma .fm {
  color: #8250df;
}

/* types / classes / namespaces */
.post figure.highlight .chroma .nc,
.post figure.highlight .chroma .nn {
  color: #953800;
}

/* variables/identifiers */
.post figure.highlight .chroma .n,
.post figure.highlight .chroma .nx,
.post figure.highlight .chroma .py,
.post figure.highlight .chroma .nb,
.post figure.highlight .chroma .bp,
.post figure.highlight .chroma .vc,
.post figure.highlight .chroma .vg,
.post figure.highlight .chroma .vi,
.post figure.highlight .chroma .no,
.post figure.highlight .chroma .na,
.post figure.highlight .chroma .nl {
  color: #24292f;
}

/* variables (make slightly more distinct, closer to editor feel) */
.post figure.highlight .chroma .nv,
.post figure.highlight .chroma .vc,
.post figure.highlight .chroma .vg,
.post figure.highlight .chroma .vi {
  color: #0550ae;
}

/* tags / attributes */
.post figure.highlight .chroma .nt {
  color: #116329;
}

/* operators / punctuation */
.post figure.highlight .chroma .o,
.post figure.highlight .chroma .ow,
.post figure.highlight .chroma .p {
  color: #24292f;
}

/* errors + diff-like tokens */
.post figure.highlight .chroma .err {
  color: #a40e26;
  background: transparent;
}

.post figure.highlight .chroma .gd {
  color: #a40e26;
  background: #ffebe9;
}

.post figure.highlight .chroma .gi {
  color: #116329;
  background: #dafbe1;
}

.post p {
  line-height: 1.75; /* Consistent relative line height */
  /* Optimized paragraph spacing for technical content */
  margin: 0 0 1.1em 0; /* Top: 0 (handled by previous element), Bottom: 1.1em for breathing room */
}

/* First paragraph after headings should have less top margin */
.post .post-content h1 + p,
.post .post-content h2 + p,
.post .post-content h3 + p,
.post .post-content h4 + p,
.post .post-content h5 + p,
.post .post-content h6 + p {
  margin-top: 0; /* No extra space after headings */
}

/* Last paragraph in a section should have consistent bottom margin */
.post .post-content p:last-child {
  margin-bottom: 1.1em; /* Consistent with other paragraphs */
}

/* Paragraphs after lists or code blocks */
.post .post-content ul + p,
.post .post-content ol + p,
.post .post-content pre + p,
.post .post-content figure + p {
  margin-top: 1.1em; /* Space after lists/code blocks */
}

.post .toc {
  padding: 1em;
  padding-bottom: 0.5em; /* Reduced bottom padding for less gap before title */
  list-style-type: square;
  margin-bottom: 0.5em; /* Reduced margin for less gap before title */
}

.post .toc-child {
  list-style: square;
}

/* TOC: keep original Hexo style, just a tiny readability touch */
.post .toc li,
.post .toc-child li {
  line-height: 1.85em;
}

.post .post-footer {
  line-height: 1;
  min-height: 1em;
}

.post .post-footer .top {
  float: right;
  color: #666;
}

.post .post-footer .top:hover {
  color: #000;
}

.post .post-footer .post-tag-list {
  display: inline-block;
  padding: 0;
  margin: 0 0 0.5em 0;
  color: #999;
}

.post .post-footer .post-tag-list .post-tag-list-item {
  display: inline-block;
  margin: 0 1em 0 0;
}

.post .post-footer .post-tag-list .post-tag-list-item a {
  font-size: 85%;
}

.post .post-footer .post-tag-list .post-tag-list-item:before {
  content: "#";
}

/* archive */
.archive {
  padding: 0 20px;
  margin-bottom: 1em;
}

.archive .post-archive {
  list-style: none;
  padding: 0;
}

.archive .post-archive .post-item {
  margin: 10px 0;
  line-height: 1.5;
}

.archive .post-archive .post-item .post-date {
  font-size: 80%;
  color: #aaa;
  font-family: Hiragino Sans GB, Microsoft YaHei, WenQuanYi, Airal, sans-serif;
}

@media screen and (max-width: 425px) {
  .archive .post-archive .post-item .post-date {
    float: none;
    margin-left: 0.5em;
    font-size: 90%;
    color: #999;
  }
}

.archive .post-archive .post-item .post-title {
  /* border-bottom: 1px dotted; */
  text-decoration: none;
}

.archive .post-archive .post-item .post-title:hover {
  border-bottom: 1px solid;
}

/* paginator */
.page-nav {
  padding: 0 20px;
}

.page-nav .prev,
.page-nav .page-number {
  padding: 10px 20px 10px 0;
}

.page-nav .next {
  float: right;
}

.page-nav a {
  color: #777;
}

.page-nav a:hover {
  color: #000;
}

/* footer */
footer {
  margin: 0.5em 20px 0 20px;
  border-top: 3px double #ccc;
  padding: 1em 0 1em 0;
  font-size: 80%;
  color: #888;
}

footer .author {
  color: #000;
}

/* Mobile optimizations for better readability on small screens */
@media screen and (max-width: 768px) {
  .post .post-content {
    font-size: 0.95em; /* Slightly smaller font on mobile for better fit */
  }

  .post figure.highlight pre.chroma {
    padding: 0.5em 1em; /* Reduced padding on mobile */
    font-size: 0.9em; /* Smaller code font on mobile */
  }

  .container {
    padding: 0 10px; /* Reduced container padding on mobile */
  }

  .post {
    padding: 0 10px; /* Reduced post padding on mobile */
  }

  .page {
    margin: 0 10px; /* Reduced page margin on mobile */
  }
}
